# Life Flows Feature

## Overview

The Life Flows feature empowers you to weave your daily actions into broader, meaningful life narratives. These flows act as implicit projects or long-term big goals that subtly guide your mindset throughout the day. By associating colors and light alerts with these flows—such as a persistent status bar—they serve as constant, gentle reminders of your bigger picture. Even during mundane tasks, downtime, boredom, or moments of relaxation, these visual cues keep you anchored: "I'm actively building toward my success," "I'm achieving my own goals right now," or "This rest is part of my larger journey." Flows aren't rigid; they overlap, evolve, and adapt, helping you navigate life's complexities while fostering a sense of ongoing progress and purpose.

## Key Concepts

### What are Flows?

Flows are fluid, overarching themes that represent your life's implicit directions—big-picture goals or projects that run in the background of your mind. They transform everyday moments into steps toward fulfillment by:

- **Providing constant mindfulness** through colored status bars and light alerts that subtly remind you of your active pursuits
- **Visualizing progress** across life's layers, turning even idle time into purposeful reflection
- **Highlighting trade-offs** between competing priorities, encouraging intentional choices
- **Building resilience** by reframing "wasted" time as part of a larger success story
- **Encouraging behavior shifts** tied to your long-term vision, making habits feel connected to something greater
- **Maintaining motivation** during low-energy periods, reinforcing that you're always "in progress" toward your goals
- **Understanding conflicts and trade-offs** between different life priorities
- **Making conscious decisions** about what to pause, cut, or modify when flows conflict

Unlike checklists, flows are motivational anchors, implicitly coloring your experience to keep you aligned with your aspirations.

### Examples of Flows

**Aspirational & Motivational:**
- **Career Breakthrough**: "Building toward a fulfilling remote career" (implicit project for ongoing growth)
- **Health Transformation**: "Nurturing lifelong vitality through better habits" (long-term goal encompassing daily wellness)
- **Financial Freedom**: "Creating abundance for future security and adventures" (big-picture aim that frames everyday decisions)
- **Personal Growth**: "Cultivating inner strength and wisdom" (implicit theme for self-improvement during all activities)
- **Creative Pursuit**: "Unleashing my artistic potential" (overarching goal that inspires even in downtime)
- **Relationship Building**: "Fostering deep, meaningful connections" (long-term flow that adds purpose to social interactions)

**Specific & Actionable:**
- **Job Search**: "Finding a new remote job" (active priority)
- **Quit Sugar**: "Eliminating sugar from diet" (behavior change)
- **Sleep Enough**: "Getting 8+ hours of quality sleep" (health priority)
- **Brain Recovery**: "Reducing cognitive load and stress" (wellness focus)

## Features

### 1. Persistent Visual Reminders

Each flow is tied to a unique color for subtle, omnipresent cues:
- **Status bar alerts**: A colored bar or light indicator at the top of the app (or device if integrated) that pulses gently, reminding you of active flows like "You're advancing your career breakthrough right now"
- **Flow badges**: Small colored icons on tasks, notes, or even the home screen, turning routine views into motivational prompts
- **Ambient notifications**: Soft, non-intrusive alerts during idle times, e.g., "Chilling out? Remember, this recharge fuels your health transformation"
- **Timeline overlays**: Colors that shade your daily schedule, showing how moments contribute to big goals
- **Flow cards** have colored left borders
- **Dashboard status bar** shows active flows with colored indicators
- **Tasks, goals, and projects** display colored dots when associated with flows

### 2. Time-Agnostic Structure

Flows transcend strict timelines, emphasizing enduring impact:
- **Open-ended durations**: No rigid end dates; they evolve as implicit, lifelong pursuits
- **Activation states**: Active (ongoing reminder), dormant (background influence), or celebrated (milestone achieved)
- **Implicit milestones**: Track subtle progress, like "You've maintained this flow through 30 days of varied activities"
- **Start dates** to mark when a life theme begins
- **End dates** to define completion or transition periods (optional)
- **Status tracking** (active, paused, completed, cancelled, conflicting)

### 3. Interconnected Dynamics

Flows naturally interact to reflect real life:
- **Harmonious overlaps**: Multiple flows active at once (e.g., "Career Breakthrough" enhancing "Personal Growth")
- **Nested layers**: Sub-themes within larger ones (e.g., "Daily mindfulness" under "Personal Growth")
- **Gentle conflict resolution**: Alerts for potential tensions (e.g., late-night work clashing with "Health Transformation"), with suggestions to reframe or adjust mindfully
- **Supportive sequences**: One flow naturally flows into another (e.g., "Health Transformation" paving the way for "Creative Pursuit")
- **Mindset shifts**: Flows prompt behavior changes, like viewing rest as strategic for long-term success
- **Overlapping flows** that run simultaneously (e.g., "Job Search" + "Sleep Enough")
- **Conflicting flows** that require trade-offs (e.g., "Job Search" tasks that reduce sleep)
- **Sequential flows** that follow a logical order (e.g., "Quit Sugar" → "Brain Recovery")

### 4. Seamless Integration

Flows lightly tag and connect elements without complexity:
- **Automatic associations**: Link tasks, goals, or notes to flows for unified views
- **Smart insights**: Filter views by flow to see how daily actions align with big goals
- **Motivational nudges**: During downtime, suggest reflections like "How does this moment support your financial freedom?"
- **Flow tags** automatically applied to related entities
- **Smart filtering** based on flow relationships
- **Conflict detection** when tasks/projects have conflicting flow tags
- **Behavior tracking** through flow-specific tag patterns

### 5. Holistic Associations

Flows infuse meaning across:
- **Daily actions**: Even small tasks gain purpose when tied to a flow
- **Reflections**: Notes capture insights within a broader theme
- **Milestones**: Celebrate implicit progress in long-term goals
- **Routines**: Turn habits into building blocks for success
- **Projects** - entire project themes with flow-specific constraints
- **Goals** - specific objectives within a flow
- **Tasks** - individual actions contributing to a flow

## Usage

### Creating Flows

1. Go to the **Flows** hub
2. Select **"+ Add Flow"**
3. Define your theme:
   - **Title**: Inspirational and action-oriented (e.g., "Career Breakthrough", "Sleep Enough")
   - **Essence**: A short mantra or description (e.g., "Every step builds my dream path", "Rest is recovery for peak performance")
   - **Color**: A hue that evokes the right energy (e.g., vibrant green for growth, calming blue for sleep)
   - **Activation**: Set to active for immediate reminders
   - **Connections**: Link to related flows or behaviors
   - **Mindset Rules**: Define how it reframes downtime (e.g., "Rest is recovery for peak performance")
   - **Time Period**: Set start and end dates (optional for open-ended flows)
   - **Parent Flow**: Optional, for nesting (e.g., "Brain Recovery" under "Sleep Enough")
   - **Conflict Rules**: Define how this flow interacts with others
   - **Behavior Changes**: Specify what habits/behaviors this flow modifies

### Managing Flows

- **Update**: Refine titles or colors as your goals evolve
- **Archive**: Move completed flows to a "Wins" section for ongoing inspiration
- **Review Progress**: See how flows have influenced your mindset over time
- **Visual Map**: Explore how flows interconnect and support each other
- **Downtime Integration**: Customize alerts for idle periods to reinforce purpose
- **Edit**: Click the edit icon on any flow card
- **Delete**: Click the delete icon (with confirmation)
- **View Stats**: See progress metrics for each flow
- **Timeline**: Visualize flow periods over time
- **Conflict Analysis**: See which flows are conflicting and how
- **Behavior Tracking**: Monitor how flow is changing your habits

### Flow-Tag Association

Flows work through the tagging system:
1. **Auto-tagging**: Flows automatically create and apply related tags
2. **Smart filtering**: Filter tasks/projects by flow tags
3. **Conflict detection**: System warns when tasks have conflicting flow tags
4. **Behavior tracking**: Monitor flow-specific tag patterns over time

### Handling Dynamics

For overlaps or tensions (e.g., intense work conflicting with health):
1. **Insight alerts**: Gentle notifications highlight opportunities for balance
2. **Reframe options**: Suggestions to view conflicts as growth (e.g., "This challenge strengthens your resilience")
3. **Priority nudges**: Weight flows to focus reminders accordingly
4. **Adaptive behaviors**: Track how flows evolve your habits for sustained motivation

### Managing Flow Conflicts

When flows conflict (e.g., "Job Search" tasks that reduce sleep):
1. **Conflict alerts** appear when creating conflicting tasks
2. **Pause options** for flows that can be temporarily suspended
3. **Modification suggestions** for tasks that conflict with active flows
4. **Priority weighting** to help decide which flow takes precedence

## Dashboard Integration

The dashboard features a **Persistent Flow Bar** for constant awareness:
- **Colored indicators**: Show active flows with subtle glows or pulses
- **Motivational summaries**: Quick glances like "You're 20% closer to financial freedom today"
- **Downtime boosters**: During quiet moments, display affirmations tied to your goals
- **Relationship overview**: A simple map of how flows align or interact
- **Progress sparks**: Small wins highlighted to combat boredom
- **Active flows** with their colors and status
- **Flow conflicts** and warnings
- **Quick access** to flow management
- **Visual reminders** of current life themes
- **Behavior change progress** for active flows

## API Reference

### Flow Endpoints

```
GET    /api/v1/flows              # List all flows
POST   /api/v1/flows              # Create new flow
GET    /api/v1/flows/{id}         # Get specific flow
PUT    /api/v1/flows/{id}         # Update flow
DELETE /api/v1/flows/{id}         # Delete flow
GET    /api/v1/flows/{id}/stats   # Get flow statistics
```

### Flow Model

```json
{
  "id": 1,
  "title": "Sleep Enough",
  "description": "Getting 8+ hours of quality sleep for better health and cognitive function",
  "color": "#3B82F6",
  "status": "active",
  "startDate": "2024-01-01T00:00:00Z",
  "endDate": null,
  "parentId": null,
  "workspaceId": 1,
  "conflictRules": {
    "conflictsWith": ["Job Search"],
    "requiresPause": ["Late Night Work"],
    "behaviorChanges": ["No screens 1hr before bed", "Consistent sleep schedule"]
  },
  "behaviorChanges": [
    "No screens 1hr before bed",
    "Consistent sleep schedule",
    "Limit caffeine after 2pm"
  ],
  "createdAt": "2024-01-01T00:00:00Z",
  "updatedAt": "2024-01-01T00:00:00Z"
}
```

## Database Schema

### Flows Table

```sql
CREATE TABLE flows (
    id SERIAL PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    description TEXT,
    color VARCHAR(7) DEFAULT '#3B82F6',
    status VARCHAR(50) DEFAULT 'active',
    start_date TIMESTAMP,
    end_date TIMESTAMP,
    parent_id INTEGER REFERENCES flows(id) ON DELETE SET NULL,
    workspace_id INTEGER REFERENCES workspaces(id) ON DELETE CASCADE,
    conflict_rules JSONB,
    behavior_changes TEXT[],
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### Flow-Tag Associations

Flows work through the tagging system rather than direct foreign keys:
- **Flow tags** are automatically created for each flow
- **Entity tagging** links tasks/projects/goals to flows via tags
- **Conflict detection** through tag pattern matching
- **Behavior tracking** through flow-specific tag usage

### Flow Relationship Table

```sql
CREATE TABLE flow_relationships (
    id SERIAL PRIMARY KEY,
    flow_id INTEGER REFERENCES flows(id) ON DELETE CASCADE,
    related_flow_id INTEGER REFERENCES flows(id) ON DELETE CASCADE,
    relationship_type VARCHAR(50) NOT NULL, -- 'conflicts_with', 'supports', 'nested_under', 'sequential_after'
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

## Best Practices

### 1. Flow Framing

- **Make them aspirational**: Use titles that evoke big-picture success (e.g., "Unleashing Potential" instead of "Daily Exercise")
- **Incorporate mantras**: Add phrases for reminders, like "Every moment counts toward my breakthrough"
- **Embrace implicit nature**: Focus on long-term vibes over specific tasks
- Use **behavior-oriented titles**: "Sleep Enough", "Quit Sugar", "Brain Recovery"
- Be **specific about the change**: "Find Job" vs "Job Search" (implies active searching)
- Include **time context** when relevant: "Q1 Financial Goals"
- Use **action verbs** that describe what you're doing: "Building", "Eliminating", "Recovering"

### 2. Relationship Building

- **Layer for depth**: Nest supportive flows under main ones
- **Anticipate flows**: Plan how one flow fuels the next
- **Balance overlaps**: Use colors to visually harmonize multiple active themes
- **Identify conflicts early**: "Job Search" might conflict with "Sleep Enough"
- **Define nested relationships**: "Brain Recovery" might be under "Sleep Enough"
- **Set up sequential flows**: "Quit Sugar" might lead to "Brain Recovery"
- **Plan for overlaps**: Multiple flows can run simultaneously with different priorities

### 3. Mindset Integration

- **Tie to behaviors**: Link flows to positive reframes (e.g., "Chilling? It's recharging for creativity")
- **Monitor evolution**: Reflect on how flows shift your perspective during all times
- **Prioritize inspiration**: Choose flows that excite and remind you of achievable success
- **Link flows to specific habits**: "Sleep Enough" → "No screens 1hr before bed"
- **Track behavior changes**: Monitor how flows modify your daily routines
- **Set up conflict rules**: Define what behaviors each flow requires or prohibits
- **Plan for trade-offs**: Decide which flow takes priority when conflicts arise

### 4. Color and Alert Tuning

- **Evocative choices**: Warm tones for energy, cool for calm
- **Subtle intensity**: Adjust alert brightness for non-disruptive reminders
- **Personal associations**: Colors that trigger positive goal associations
- Choose **distinctive colors** that are easy to distinguish
- Use **meaningful associations**: Blue for sleep, Red for urgent, Green for health
- **Color-code conflicts**: Use similar colors for related flows, contrasting for conflicting ones
- Avoid **too many similar colors** to prevent confusion

### 5. State Awareness

- **Active**: Full reminders for immersion
- **Dormant**: Light background influence during shifts
- **Celebrated**: Archive with fanfare to build momentum
- **Active**: Currently working on this life theme
- **Paused**: Temporarily on hold but may resume (e.g., when conflicting flow takes priority)
- **Completed**: Successfully finished this life period
- **Cancelled**: No longer relevant or abandoned
- **Conflicting**: Currently in conflict with another active flow

## Integration with Existing Features

### Projects
- Projects can be associated with flows for thematic organization
- Flow colors appear on project cards and lists
- Project progress contributes to flow statistics

### Goals
- Goals inherit flow theming and color coding
- Flow association helps prioritize goal importance
- Goal completion affects flow progress metrics

### Tasks
- Tasks show flow indicators for quick identification
- Flow association helps with task prioritization
- Task completion contributes to flow achievement

### Tags
- **Flows work through tags**: Each flow automatically creates and manages related tags
- **Smart tagging**: Flows auto-tag related entities with flow-specific tags
- **Conflict detection**: System detects when entities have conflicting flow tags
- **Behavior tracking**: Monitor flow-specific tag patterns to track behavior changes
- **Flexible filtering**: Use flow tags to filter and organize across all entities

## Integration with Daily Life

- **Actions and Routines**: Flows add purpose to tasks, turning "do nothing" into "strategic pause"
- **Reflections**: Journal within flows for deeper insights
- **Progress Tracking**: Implicit metrics show how far you've come, even in subtle ways

## Future Enhancements

### Planned Features

1. **Deep Analytics**: Visualize mindset shifts and long-term impact
2. **Template Library**: Ready-made flows for common aspirations
3. **Smart Reminders**: AI-driven nudges tailored to your mood or activity
4. **Interactive Maps**: Dynamic views of flow interconnections
5. **Shared Journeys**: Collaborate on group flows for mutual motivation
6. **Flow Analytics**
   - Progress tracking over time
   - Success rate metrics
   - Time investment analysis
7. **Flow Templates**
   - Pre-defined flow types
   - Quick setup for common life themes
   - Community-shared templates
8. **Flow Notifications**
   - Deadline reminders
   - Progress milestone alerts
   - Flow transition notifications
9. **Advanced Visualization**
   - Flow timeline charts
   - Progress heatmaps
   - Flow relationship diagrams
10. **Flow Collaboration**
    - Shared flows for teams/families
    - Flow-based task delegation
    - Collaborative flow planning

## Migration Guide

### From Tags to Flows

If you're currently using tags for life organization:

1. **Identify tag patterns** that represent life themes
2. **Create flows** for major life areas
3. **Associate existing entities** with appropriate flows
4. **Keep tags** for specific attributes (priority, type, etc.)
5. **Gradually transition** to flow-based organization

### Data Migration

The flows feature includes database migrations that:
- Create the flows table
- Add flow_id columns to existing tables
- Preserve all existing data
- Provide example flows for immediate use

## Troubleshooting

### Common Issues

1. **Flow colors not showing**
   - Check that flow_id is properly set
   - Verify flow exists and is **active**
   - Clear browser cache

2. **Flow statistics not updating**
   - Ensure entities are properly associated
   - Check flow status is "active"
   - Refresh the page

3. **Flow hierarchy not working**
   - Verify parent_id references valid flow
   - Check for circular references
   - Ensure parent flow exists

### Support

For additional help with flows:
- Check the API documentation
- Review the database schema
- Test with the provided example data
- Create an issue in the project repository

## Conclusion

Life Flows redefine personal growth by embedding your big goals into every moment. Through colored status bars and light alerts, they keep you mindful and motivated—transforming boredom, rest, or routine into affirmations of progress. This feature creates a supportive framework for achieving your dreams, reminding you that success is an ongoing, implicit journey.

Use flows to create a meaningful framework for your personal development, manage conflicting priorities, and achieve a better balance between different aspects of your life. The system works through the tagging system to provide maximum flexibility while maintaining clear organization and conflict awareness.

## Real-World Example

Here's how your interconnected flows might work together:

- **Career Breakthrough** (Energizing Red): Reminds you during job applications or networking that "You're crafting your ideal path"
- **Health Transformation** (Calming Green): Frames workouts or meals as "Building vitality for lifelong energy"
- **Personal Growth** (Inspiring Purple): Nested under both, it reframes downtime as "Cultivating wisdom through reflection"
- **Job Search** (Red) - Active priority, might conflict with sleep
- **Quit Sugar** (Orange) - Behavior change, supports brain recovery  
- **Sleep Enough** (Blue) - Health priority, might conflict with job search
- **Brain Recovery** (Purple) - Nested under "Sleep Enough", supported by "Quit Sugar"

During a lazy evening, the status bar glows softly: Red pulses with "Your break fuels tomorrow's breakthrough," keeping you connected to your success even in relaxation. If a late task arises, a gentle alert notes the health trade-off, suggesting a mindful adjustment.

When you create a task like "Apply to 10 jobs tonight", the system would:
1. Auto-tag it with "job-search" flow tag
2. Detect conflict with "sleep-enough" flow
3. Warn you about potential sleep impact
4. Suggest modifications or ask you to pause "sleep-enough" temporarily
5. Track how this affects your behavior patterns
